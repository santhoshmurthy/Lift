package com.LAW.Lift.adapter;import android.content.ActivityNotFoundException;import android.content.Context;import android.content.Intent;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import android.net.Uri;import android.os.Environment;import android.support.v4.app.ShareCompat;import android.text.Html;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ArrayAdapter;import android.widget.TextView;import android.widget.Toast;import java.io.File;import java.util.ArrayList;import java.util.List;import com.LAW.Lift.R;import com.LAW.Lift.model.Card;import static android.support.v4.app.ActivityCompat.startActivity;public class CardArrayAdapter extends ArrayAdapter<Card> {    private static final String TAG = "CardArrayAdapter";    private List<Card> cardList = new ArrayList<Card>();    String bus_id_item;    int textViewResourceId;    //Map<String, String> addToCartMap = new HashMap<>();    public CardArrayAdapter(Context context, int textViewResourceId) {        super(context, textViewResourceId);        this.textViewResourceId = textViewResourceId;    }    @Override    public void add(Card object) {        cardList.add(object);        super.add(object);    }    @Override    public int getCount() {        return this.cardList.size();    }    @Override    public Card getItem(int index) {        return this.cardList.get(index);    }    @Override    public View getView(final int position, View convertView, ViewGroup parent) {        View row = convertView;        CardViewHolder viewHolder;        if (row == null) {            LayoutInflater inflater = (LayoutInflater) this.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);            row = inflater.inflate(textViewResourceId, parent, false);            viewHolder = new CardViewHolder();            viewHolder.line1 = (TextView) row.findViewById(R.id.lawname);            viewHolder.line2 = (TextView) row.findViewById(R.id.lawactno);            viewHolder.line3 = (TextView) row.findViewById(R.id.lawenactedby);            viewHolder.line4 = (TextView) row.findViewById(R.id.lawreceived);            viewHolder.line5 = (TextView) row.findViewById(R.id.lawpublished);            viewHolder.line6 = (TextView) row.findViewById(R.id.lawcame);            viewHolder.line7 = (TextView) row.findViewById(R.id.lawsalient);            viewHolder.line8 = (TextView) row.findViewById(R.id.lawbrief);            viewHolder.line9 = (TextView) row.findViewById(R.id.lawfulltext);            //viewHolder.line2 = (TextView) row.findViewById(R.id.bus_location);            //viewHolder.line3 = (TextView) row.findViewById(R.id.bus_time);            row.setTag(viewHolder);        } else {            viewHolder = (CardViewHolder) row.getTag();        }        Card card = getItem(position);        viewHolder.line1.setText(card.getlawname());        viewHolder.line2.setText(card.getlawactno());        viewHolder.line3.setText(card.getlawenactedby());        viewHolder.line4.setText(card.getlawreceived());        viewHolder.line5.setText(card.getlawpublished());        viewHolder.line6.setText(card.getlawcame());        viewHolder.line7.setText(card.getlawsalient());        viewHolder.line8.setText(card.getlawbrief());        viewHolder.line9.setText(card.getlawfulltext());        viewHolder.line1.setSelected(true);        viewHolder.line2.setSelected(true);        viewHolder.line3.setSelected(true);        viewHolder.line4.setSelected(true);        viewHolder.line5.setSelected(true);        viewHolder.line6.setSelected(true);        viewHolder.line7.setSelected(true);        viewHolder.line8.setSelected(true);        viewHolder.line9.setSelected(true);       // if (row != null) {          //  TextView line7 = (TextView) row.findViewById(R.id.lawsalient);        if (viewHolder.line1!=null)            viewHolder.line1.setText(Html.fromHtml(card.getlawname().toString()));            if (viewHolder.line7 != null)                viewHolder.line7.setText(Html.fromHtml(card.getlawsalient()).toString());  //  }        //if (row != null) {            //TextView line8 = (TextView) row.findViewById(R.id.lawbrief);            if (viewHolder.line8 != null)                viewHolder.line8.setText(Html.fromHtml(card.getlawbrief()).toString());            return row;    }    public Bitmap decodeToBitmap(byte[] decodedByte) {        return BitmapFactory.decodeByteArray(decodedByte, 0, decodedByte.length);    }    static class CardViewHolder {        TextView line1;        TextView line2;        TextView line3;        TextView line4;        TextView line5;        TextView line6;        TextView line7;        TextView line8;        TextView line9;    }}